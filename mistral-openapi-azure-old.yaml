openapi: 3.1.0
info:
    title: Mistral AI API
    description: Our Chat Completion and Embeddings APIs specification. Create your account on [La Plateforme](https://console.mistral.ai) to get access and read the [docs](https://docs.mistral.ai) to learn how to use it.
    version: 1.0.0
paths:
    /chat/completions#stream:
        post:
            tags:
                - chat
            operationId: stream_chat
            x-speakeasy-name-override: stream
            summary: Stream chat completion
            description: 'Mistral AI provides the ability to stream responses back to a client in order to allow partial results for certain requests. Tokens will be sent as data-only server-sent events as they become available, with the stream terminated by a data: [DONE] message. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON.'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ChatCompletionStreamRequest'
            responses:
                '200':
                    description: A stream of chat completion events
                    content:
                        text/event-stream:
                            x-speakeasy-sse-sentinel: '[DONE]'
                            schema:
                                $ref: '#/components/schemas/CompletionEvent'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
    /chat/completions:
        post:
            summary: Chat Completion
            operationId: chat_completion_v1_chat_completions_post
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ChatCompletionRequest'
                required: true
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ChatCompletionResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            tags:
                - chat
            x-speakeasy-name-override: complete
            x-speakeasy-usage-example:
                title: Create Chat Completions
                description: This example shows how to create chat completions.
                position: 1
components:
    schemas:
        HTTPValidationError:
            properties:
                detail:
                    items:
                        $ref: '#/components/schemas/ValidationError'
                    type: array
                    title: Detail
            type: object
            title: HTTPValidationError
        ValidationError:
            properties:
                loc:
                    items:
                        anyOf:
                            - type: string
                            - type: integer
                    type: array
                    title: Location
                msg:
                    type: string
                    title: Message
                type:
                    type: string
                    title: Error Type
            type: object
            required:
                - loc
                - msg
                - type
            title: ValidationError
        Function:
            properties:
                name:
                    type: string
                    title: Name
                description:
                    type: string
                    title: Description
                strict:
                    type: boolean
                    title: Strict
                parameters:
                    type: object
                    title: Parameters
                    additionalProperties: true
            additionalProperties: false
            type: object
            required:
                - name
                - parameters
            title: Function
        ImageURLChunk:
            properties:
                image_url:
                    anyOf:
                        - $ref: '#/components/schemas/ImageURL'
                        - type: string
                    title: Image Url
                type:
                    type: string
                    enum:
                        - image_url
                    title: Type
                    default: image_url
            additionalProperties: false
            type: object
            required:
                - image_url
            title: ImageURLChunk
            description: '{"type":"image_url","image_url":{"url":"data:image/png;base64,iVBORw0'
        JsonSchema:
            properties:
                name:
                    type: string
                    title: Name
                description:
                    anyOf:
                        - type: string
                        - type: 'null'
                    title: Description
                schema:
                    type: object
                    title: Schema
                    additionalProperties: true
                    x-speakeasy-name-override: schema_definition
                strict:
                    type: boolean
                    title: Strict
            additionalProperties: false
            type: object
            required:
                - name
                - schema
            title: JsonSchema
        Prediction:
            properties:
                type:
                    type: string
                    const: content
                    title: Type
                    default: content
                content:
                    type: string
                    title: Content
                    default: ''
            additionalProperties: false
            type: object
            title: Prediction
        ResponseFormat:
            properties:
                type:
                    $ref: '#/components/schemas/ResponseFormats'
                    default: text
                json_schema:
                    anyOf:
                        - $ref: '#/components/schemas/JsonSchema'
                        - type: 'null'
            additionalProperties: false
            type: object
            title: ResponseFormat
        ResponseFormats:
            type: string
            enum:
                - text
                - json_object
                - json_schema
            title: ResponseFormats
            description: 'An object specifying the format that the model must output. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.'
        TextChunk:
            properties:
                text:
                    type: string
                    title: Text
                type:
                    type: string
                    enum:
                        - text
                    title: Type
                    default: text
            additionalProperties: false
            type: object
            required:
                - text
            title: TextChunk
        ToolChoiceEnum:
            type: string
            enum:
                - auto
                - none
                - any
                - required
            title: ToolChoiceEnum
        AssistantMessage:
            properties:
                content:
                    title: Content
                    anyOf:
                        - type: string
                        - type: 'null'
                        - items:
                            $ref: '#/components/schemas/ContentChunk'
                          type: array
                tool_calls:
                    anyOf:
                        - items:
                            $ref: '#/components/schemas/ToolCall'
                          type: array
                        - type: 'null'
                    title: Tool Calls
                prefix:
                    type: boolean
                    title: Prefix
                    default: false
                    description: Set this to `true` when adding an assistant message as prefix to condition the model response. The role of the prefix message is to force the model to start its answer by the content of the message.
                role:
                    type: string
                    default: assistant
                    title: Role
                    enum:
                        - assistant
            additionalProperties: false
            type: object
            title: AssistantMessage
        ChatCompletionRequest:
            properties:
                model:
                    title: Model
                    type: string
                    description: The ID of the model to use for this request.
                    example: azureai
                    default: azureai
                temperature:
                    anyOf:
                        - type: number
                          maximum: 1.5
                          minimum: 0
                        - type: 'null'
                    title: Temperature
                    description: What sampling temperature to use, we recommend between 0.0 and 0.7. Higher values like 0.7 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. We generally recommend altering this or `top_p` but not both. The default value varies depending on the model you are targeting. Call the `/models` endpoint to retrieve the appropriate value.
                top_p:
                    type: number
                    maximum: 1
                    minimum: 0
                    title: Top P
                    description: Nucleus sampling, where the model considers the results of the tokens with `top_p` probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered. We generally recommend altering this or `temperature` but not both.
                max_tokens:
                    anyOf:
                        - type: integer
                          minimum: 0
                        - type: 'null'
                    title: Max Tokens
                    description: The maximum number of tokens to generate in the completion. The token count of your prompt plus `max_tokens` cannot exceed the model's context length.
                stream:
                    type: boolean
                    title: Stream
                    default: false
                    description: 'Whether to stream back partial progress. If set, tokens will be sent as data-only server-side events as they become available, with the stream terminated by a data: [DONE] message. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON.'
                stop:
                    anyOf:
                        - type: string
                        - items:
                            type: string
                          type: array
                    title: Stop
                    description: Stop generation if this token is detected. Or if one of these tokens is detected when providing an array
                random_seed:
                    anyOf:
                        - type: integer
                          minimum: 0
                        - type: 'null'
                    title: Random Seed
                    description: The seed to use for random sampling. If set, different calls will generate deterministic results.
                messages:
                    items:
                        oneOf:
                            - $ref: '#/components/schemas/SystemMessage'
                            - $ref: '#/components/schemas/UserMessage'
                            - $ref: '#/components/schemas/AssistantMessage'
                            - $ref: '#/components/schemas/ToolMessage'
                        discriminator:
                            propertyName: role
                            mapping:
                                assistant: '#/components/schemas/AssistantMessage'
                                system: '#/components/schemas/SystemMessage'
                                tool: '#/components/schemas/ToolMessage'
                                user: '#/components/schemas/UserMessage'
                    type: array
                    title: Messages
                    description: The prompt(s) to generate completions for, encoded as a list of dict with role and content.
                    examples:
                        - - role: user
                            content: Who is the best French painter? Answer in one short sentence.
                response_format:
                    $ref: '#/components/schemas/ResponseFormat'
                tools:
                    anyOf:
                        - items:
                            $ref: '#/components/schemas/Tool'
                          type: array
                        - type: 'null'
                    title: Tools
                tool_choice:
                    anyOf:
                        - $ref: '#/components/schemas/ToolChoice'
                        - $ref: '#/components/schemas/ToolChoiceEnum'
                    title: Tool Choice
                    default: auto
                presence_penalty:
                    type: number
                    maximum: 2
                    minimum: -2
                    title: Presence Penalty
                    description: presence_penalty determines how much the model penalizes the repetition of words or phrases. A higher presence penalty encourages the model to use a wider variety of words and phrases, making the output more diverse and creative.
                frequency_penalty:
                    type: number
                    maximum: 2
                    minimum: -2
                    title: Frequency Penalty
                    description: frequency_penalty penalizes the repetition of words based on their frequency in the generated text. A higher frequency penalty discourages the model from repeating words that have already appeared frequently in the output, promoting diversity and reducing repetition.
                n:
                    anyOf:
                        - type: integer
                          minimum: 1
                        - type: 'null'
                    title: N
                    description: Number of completions to return for each request, input tokens are only billed once.
                prediction:
                    $ref: '#/components/schemas/Prediction'
                    default:
                        type: content
                        content: ''
                    description: Enable users to specify expected results, optimizing response times by leveraging known or predictable content. This approach is especially effective for updating text documents or code files with minimal changes, reducing latency while maintaining high-quality results.
                parallel_tool_calls:
                    type: boolean
                    title: Parallel Tool Calls
                prompt_mode:
                    anyOf:
                        - $ref: '#/components/schemas/MistralPromptMode'
                        - type: 'null'
                safe_prompt:
                    type: boolean
                    description: Whether to inject a safety prompt before all conversations.
            additionalProperties: false
            type: object
            title: ChatCompletionRequest
            required:
                - messages
        FunctionCall:
            properties:
                name:
                    type: string
                    title: Name
                arguments:
                    title: Arguments
                    anyOf:
                        - type: object
                          additionalProperties: true
                        - type: string
            additionalProperties: false
            type: object
            required:
                - name
                - arguments
            title: FunctionCall
        FunctionName:
            properties:
                name:
                    type: string
                    title: Name
            additionalProperties: false
            type: object
            required:
                - name
            title: FunctionName
            description: this restriction of `Function` is used to select a specific function to call
        ImageURL:
            properties:
                url:
                    type: string
                    title: Url
                detail:
                    anyOf:
                        - type: string
                        - type: 'null'
                    title: Detail
            additionalProperties: false
            type: object
            required:
                - url
            title: ImageURL
        MistralPromptMode:
            type: string
            title: MistralPromptMode
            enum:
                - reasoning
                - disabled
            x-speakeasy-unknown-values: allow
        ReferenceChunk:
            properties:
                reference_ids:
                    items:
                        type: integer
                    type: array
                    title: Reference Ids
                type:
                    type: string
                    enum:
                        - reference
                    title: Type
                    default: reference
            additionalProperties: false
            type: object
            required:
                - reference_ids
            title: ReferenceChunk
        SystemMessage:
            properties:
                content:
                    anyOf:
                        - type: string
                        - items:
                            $ref: '#/components/schemas/TextChunk'
                          type: array
                    title: Content
                role:
                    type: string
                    default: system
                    enum:
                        - system
            additionalProperties: false
            type: object
            required:
                - content
            title: SystemMessage
        Tool:
            properties:
                type:
                    $ref: '#/components/schemas/ToolTypes'
                    default: function
                function:
                    $ref: '#/components/schemas/Function'
            additionalProperties: false
            type: object
            required:
                - function
            title: Tool
        ToolCall:
            properties:
                id:
                    type: string
                    title: Id
                    default: 'null'
                type:
                    $ref: '#/components/schemas/ToolTypes'
                    default: function
                function:
                    $ref: '#/components/schemas/FunctionCall'
                index:
                    type: integer
                    title: Index
                    default: 0
            additionalProperties: false
            type: object
            required:
                - function
            title: ToolCall
        ToolChoice:
            properties:
                type:
                    $ref: '#/components/schemas/ToolTypes'
                    default: function
                function:
                    $ref: '#/components/schemas/FunctionName'
            additionalProperties: false
            type: object
            required:
                - function
            title: ToolChoice
            description: ToolChoice is either a ToolChoiceEnum or a ToolChoice
        ToolMessage:
            properties:
                content:
                    title: Content
                    anyOf:
                        - type: string
                        - type: 'null'
                        - items:
                            $ref: '#/components/schemas/ContentChunk'
                          type: array
                tool_call_id:
                    anyOf:
                        - type: string
                        - type: 'null'
                    title: Tool Call Id
                name:
                    anyOf:
                        - type: string
                        - type: 'null'
                    title: Name
                role:
                    type: string
                    default: tool
                    enum:
                        - tool
            additionalProperties: false
            type: object
            required:
                - content
            title: ToolMessage
        UserMessage:
            properties:
                content:
                    title: Content
                    anyOf:
                        - type: string
                        - type: 'null'
                        - items:
                            $ref: '#/components/schemas/ContentChunk'
                          type: array
                role:
                    type: string
                    default: user
                    enum:
                        - user
            additionalProperties: false
            type: object
            required:
                - content
            title: UserMessage
        CompletionEvent:
            title: CompletionEvent
            type: object
            required:
                - data
            properties:
                data:
                    $ref: '#/components/schemas/CompletionChunk'
        CompletionChunk:
            title: CompletionChunk
            type: object
            required:
                - id
                - model
                - choices
            properties:
                id:
                    type: string
                object:
                    type: string
                created:
                    type: integer
                model:
                    type: string
                usage:
                    $ref: '#/components/schemas/UsageInfo'
                choices:
                    type: array
                    items:
                        $ref: '#/components/schemas/CompletionResponseStreamChoice'
        CompletionResponseStreamChoice:
            title: CompletionResponseStreamChoice
            type: object
            required:
                - index
                - delta
                - finish_reason
            properties:
                index:
                    type: integer
                delta:
                    $ref: '#/components/schemas/DeltaMessage'
                finish_reason:
                    type:
                        - string
                        - 'null'
                    enum:
                        - stop
                        - length
                        - error
                        - tool_calls
                        - null
                    x-speakeasy-unknown-values: allow
        UsageInfo:
            title: UsageInfo
            type: object
            properties:
                prompt_tokens:
                    type: integer
                    example: 16
                completion_tokens:
                    type: integer
                    example: 34
                total_tokens:
                    type: integer
                    example: 50
            required:
                - prompt_tokens
                - completion_tokens
                - total_tokens
        ResponseBase:
            type: object
            title: ResponseBase
            properties:
                id:
                    type: string
                    example: cmpl-e5cc70bb28c444948073e77776eb30ef
                object:
                    type: string
                    example: chat.completion
                model:
                    type: string
                    example: mistral-small-latest
                usage:
                    $ref: '#/components/schemas/UsageInfo'
        ChatCompletionChoice:
            title: ChatCompletionChoice
            type: object
            required:
                - index
                - finish_reason
                - message
            properties:
                index:
                    type: integer
                    example: 0
                message:
                    $ref: '#/components/schemas/AssistantMessage'
                finish_reason:
                    type: string
                    enum:
                        - stop
                        - length
                        - model_length
                        - error
                        - tool_calls
                    example: stop
                    x-speakeasy-unknown-values: allow
        DeltaMessage:
            title: DeltaMessage
            type: object
            properties:
                role:
                    anyOf:
                        - type: string
                        - type: 'null'
                content:
                    anyOf:
                        - type: string
                        - type: 'null'
                        - items:
                            $ref: '#/components/schemas/ContentChunk'
                          type: array
                tool_calls:
                    anyOf:
                        - type: 'null'
                        - type: array
                          items:
                            $ref: '#/components/schemas/ToolCall'
        ChatCompletionResponseBase:
            allOf:
                - $ref: '#/components/schemas/ResponseBase'
                - type: object
                  title: ChatCompletionResponseBase
                  properties:
                    created:
                        type: integer
                        example: 1702256327
        ChatCompletionResponse:
            allOf:
                - $ref: '#/components/schemas/ChatCompletionResponseBase'
                - type: object
                  title: ChatCompletionResponse
                  properties:
                    choices:
                        type: array
                        items:
                            $ref: '#/components/schemas/ChatCompletionChoice'
                  required:
                    - id
                    - object
                    - data
                    - model
                    - usage
                    - created
                    - choices
        ChatCompletionStreamRequest:
            allOf:
                - $ref: '#/components/schemas/ChatCompletionRequest'
                - type: object
                  properties:
                    stream:
                        type: boolean
                        default: true
        ToolTypes:
            type: string
            enum:
                - function
            title: ToolTypes
            x-speakeasy-unknown-values: allow
        ContentChunk:
            oneOf:
                - $ref: '#/components/schemas/TextChunk'
                - $ref: '#/components/schemas/ImageURLChunk'
                - $ref: '#/components/schemas/ReferenceChunk'
            discriminator:
                propertyName: type
                mapping:
                    image_url: '#/components/schemas/ImageURLChunk'
                    text: '#/components/schemas/TextChunk'
                    reference: '#/components/schemas/ReferenceChunk'
            title: ContentChunk
    securitySchemes:
        ApiKey:
            type: http
            scheme: bearer
security:
    - ApiKey: []
servers:
    - url: https://api.mistral.ai
      x-speakeasy-server-id: eu
      description: EU Production server
tags:
    - name: chat
      x-displayName: Chat
      description: Chat Completion API.
